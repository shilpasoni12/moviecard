<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" type="text/css" href="home-1.css">
    <title>moviecard</title>
</head>
<body background="image/mm2.jpg" >
	<nav>
	    <div class="right-nav">
		<label class="email" id="username"></label>
	    </div>
	</nav>
	     <div id="maindiv">
		<div class="heading" id="heading">
			<input type="text" value="" onkeyup="searchMovie(this.value)" name="search" id="search" placeholder="search">
		</div>
		<div id="listdiv">
		</div>
	     </div>
	<script type="text/javascript">
		document.getElementById("username").innerHTML = sessionStorage.username;
		//localstorage to store details
		localStorage.setItem("movieObjectList",JSON.stringify([
			{name: "Maayanadi",rating: 9.5,review :"Maathen, who works for a gang, is on the run after accidentally killing a police officer. However, his decision to meet his beloved Aparna before moving out of the country puts his life in danger.",image:"image/maya.jpg "},

			{name: "Vijay superum pournamiyum",rating: 8.5,review :"A young engineering student dreams of becoming a chef, much to the dismay of his family.",image:"image/vijay.jpg"},
			
			{name: "London bridge",rating: 7.5,review :"Businessman Vijay's marriage is fixed to Pavitra, the daughter of a wealthy man. Things take a turn when Vijay accidentally meets Merin and falls in love with her.",image: "image/london.jpg" },
			
			{name: "Joseph",rating: 9,review :"Joseph is a 2018 Malayalam-language Indian thriller-drama film directed by M. Padmakumar and written by Shahi Kabir. It stars Joju George, Dileesh Pothan, Irshad, Athmiya, Johny Antony, Sudhi Koppa, Malavika Menon, and Madhuri Braganza.",image: "image/joseph.jpg"},
			
			{name: "Vadakan selfi",rating: 7,review :"When his father asks him to manage their grocery store, Umesh leaves for Chennai to become a film-maker. His life changes after he takes a selfie with his old neighbour and posts it online.",image: "image/vadakan selfie.jpg"},
			
			{name: "June",rating: 8,review :"The film follows the life story of a girl named June from 16 years of her age until she turned 26, thereby giving an insight into those ten years of her life.",image: "image/june.jpg"},
			
			{name: "Melle",rating: 8.2,review :"After a tragic experience, a young woman journeys to her father's homeland and falls in love with a kind-hearted doctor.",image: "image/melle.jpg"},
			
			{name: "Vimanam",rating: 7.2,review :"Venkidi, an aeronautics enthusiast with hearing disabilities, faces many struggles as he attempts to build an aircraft using recycled materials.",image: "image/vimanam.jpg"}]));
		
		var movieObjectListArray = JSON.parse(localStorage.getItem("movieObjectList"));
                function review(i){
			var movieName = movieObjectListArray[i]["name"];
			var review = movieObjectListArray[i]["review"];
			var username = movieObjectListArray[i]["username"];
			window.location.href = "review.html?movieName="+movieName+"&review="+review+"&username="+ username;
		}
		var divContent = "";
		for(var i = 0 ; i< movieObjectListArray.length; i++){
			divContent = divContent + '<div class="moviecard"  onclick="review(' + i + ')" id="moviecard' + i + '"><div><img class="img" src="' + movieObjectListArray[i]["image"] + '"></div><div class="heading" ><h3>' + movieObjectListArray[i]["name"] + '</h3></div><div class="rating"><h5>' + movieObjectListArray[i]["rating"] + '/10</h5></div></div>';
		}
		document.getElementById('listdiv').innerHTML = divContent;
		var SearchString = "";
		//function to search movie
		function searchMovie(SearchString){
			var divContent = "";
				for (var i = 0; i < movieObjectListArray.length; i++) {
				var movie = movieObjectListArray[i]["name"];
				movie = movie.toUpperCase(movie);
				SearchString = SearchString.toUpperCase(SearchString);
					if (movie.search(SearchString) > -1) {
					divContent = divContent + 
					'<div class="moviecard"  onclick="review(' + i + ')" id="moviecard' + i + '">\
						<div id="imageDiv"><img class="image" src="' + movieObjectListArray[i]["image"] + '">\
						</div>\
						<div >\
							<h3 class="details">' + movieObjectListArray[i]["name"] + 
							'</h3>\
						</div>\
						<div>\
							<h5 class="details">' + movieObjectListArray[i]["rating"] + '/10\
							</h5>\
						</div>\
					</div>';
				}
			}
			document.getElementById('listdiv').innerHTML = divContent;
		}


			</script>
</body>
</html>
